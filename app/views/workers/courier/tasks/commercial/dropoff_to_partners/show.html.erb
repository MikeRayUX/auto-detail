<% provide(:title, "Drop Off To Washer")%>
<div class="h-screen bg-gray-200">

  <div class="w-full bg-gray-900 py-2">
    <p class="font-bold text-lg text-center text-white">
      Dropoff To Washer
    </p>
  </div>

  <div class="w-full">
    <% flash.each do |message_type, message| %>
      <div class="flashWarning sm:max-w-xl sm:mx-auto">
        <h1 class="flashWarningText">
          <%= message %>
        </h1>
      </div>
    <% end %>
  </div>

  <div class="max-w-lg mx-auto p-4 bg-white">
    <%= link_to "<Back", workers_dashboards_waiting_orders_path, class: "text-link-blue font-bold text-xl py-1 font-bold mb-2" %>  

    <div class="mt-4">
      <p class="font-bold text-2xl">
        <ion-icon name="qr-code-outline"></ion-icon>
        <%= @pickup.bags_code %> (<%= @pickup.bags_collected%> bags)
      </p>
    </div>

    <div class="mt-4 mb-8 sm:flex sm:flex-row sm:justify-start sm:items-center sm:my-2">
      <p class="text-center my-2 text-sm py-1 px-2 rounded-full bg-blue-500 text-white sm:mr-2">
        Detergent: 
        <%= @pickup.readable_detergent%>
      </p>
      <p class="text-center my-2 text-sm py-1 px-2 rounded-full bg-orange-500 text-white">
        Softener: 
        <%= @pickup.readable_softener%> 
      </p>
    </div>

    <div class="w-full my-2 mb-2 py-2">
      <div class="w-full flex-column justify-start">
        <p class="flex flex-row justify-start items-center text-xl font-bold">
          <span class="h-6 w-6 flex items-center justify-center bg-black text-white mr-4">
            1
          </span>
          Locate Bags (<%= @pickup.bags_collected%> bags)
        </p>
      </div>
    </div>

    <div class="w-full my-2 mb-8 py-2">
      <div class="w-full flex-column justify-start">
        <p class="flex flex-row justify-start items-center text-xl font-bold">
          <span class="h-6 w-6 flex items-center justify-center bg-black text-white mr-4">
            2
          </span>
          Select Dropoff Location
        </p>
      </div>
      <div class="my-2">
        <%= form_tag workers_courier_tasks_commercial_dropoff_to_partners_path, method: :patch, class: "stop-form" do %>
          <%= hidden_field_tag :id, @pickup.id %>
          <%= select_tag :partner_location_id, options_for_select(@options_for_select), class: "w-full py-3 pl-2 border rounded appearance-none text-gray-900 mb-8"%>
           <%= submit_tag "Complete Dropoff", class: "block w-full py-4 text-center bg-orange-500 text-gray-900 font-bold text-lg mb-4", data: { confirm: "Are you sure you want to continue?"} %>
        <% end %>
      </div>
    </div>
  </div>
</div>